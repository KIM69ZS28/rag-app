# 権限設計

## 1. ロール定義
### EMPLOYEE
- 自分の打刻・勤怠申請・休暇申請が可能
- 他者データの参照不可

### MANAGER
- 配下メンバーの勤怠申請・休暇申請の承認が可能
- 配下の勤怠参照が可能

### ADMIN
- 全ユーザの参照が可能
- 従業員マスタ、所属、ロールの変更が可能
- 監査ログの参照が可能

## 2. アクセス制御方針
- APIリクエストには Cognito のJWTを必須とする
- LambdaはJWTのclaimから user_id と role を取得する
- 参照権限は「role」と「組織階層（department_id）」を組み合わせて判定する

## 3. 監査対象操作
以下の操作は必ず監査ログに記録する：
- 勤怠データの修正（管理者/承認者による代理修正含む）
- ユーザロール変更
- 所属変更
- 勤怠締め処理の実行
